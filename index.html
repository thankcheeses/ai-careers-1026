<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Career Roadmap 2026</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Outfit:wght@500;700;800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    :root { --bg:#f1f5f9; --card:#fff; --text:#0f172a; --muted:#64748b; --border:#e2e8f0; --eng:#3b82f6; --data:#10b981; --prod:#f59e0b; --gov:#8b5cf6; }
    body.dark { --bg:#0f172a; --card:#1e293b; --text:#f1f5f9; --muted:#94a3b8; --border:#334155; }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:Inter,system-ui;background:var(--bg);color:var(--text);padding:18px;min-height:100vh;transition:background .2s,color .2s;}
    .container{max-width:1400px;margin:0 auto;background:var(--card);border-radius:22px;overflow:hidden;border:1px solid var(--border);}
    .header{padding:56px 28px 38px;text-align:center;color:#fff;background:linear-gradient(135deg,#0b1224,#111d35);}
    .header h1{font-family:Outfit;font-weight:800;font-size:clamp(2rem,3.2vw,3.4rem);background:linear-gradient(to right,#60a5fa,#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .header p{color:rgba(226,232,240,.9);font-size:1.02rem;max-width:920px;margin:0 auto 16px;}
    .header .assumptions{color:rgba(226,232,240,.8);font-size:.95rem;max-width:920px;margin:16px auto 0;padding-top:12px;border-top:1px solid rgba(226,232,240,.2);}
    .pillrow{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:14px;}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);color:rgba(255,255,255,.92);font-size:.9rem;}
    .dark-toggle{position:fixed;top:20px;right:20px;border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:999px;padding:10px 14px;cursor:pointer;font-weight:700;z-index:100;}
    .topbar{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--border);background:var(--card);}
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;flex:1 1 auto;}
    .input{display:flex;align-items:center;gap:8px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:var(--card);color:var(--text);min-width:260px;flex:1 1 320px;max-width:560px;}
    .input input{border:none;outline:none;width:100%;font-size:.95rem;color:var(--text);background:transparent;}
    .select,.button{border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:12px;padding:10px 12px;font-weight:600;font-size:.92rem;cursor:pointer;transition:background .2s;}
    .button{display:inline-flex;align-items:center;gap:8px;}
    .button:hover{background:var(--bg);}
    .button.primary{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;border:none;}
    .button.danger{background:#fff;border-color:rgba(239,68,68,.35);color:#b91c1c;}
    .right-actions{display:flex;gap:10px;align-items:center;}
    .tabs{display:flex;gap:8px;padding:10px 14px;border-bottom:2px solid var(--border);background:var(--card);overflow-x:auto;}
    .tab{border:none;background:transparent;color:var(--muted);cursor:pointer;padding:12px 14px;border-radius:14px;font-family:Outfit;font-weight:700;font-size:.98rem;white-space:nowrap;display:inline-flex;align-items:center;gap:8px;transition:background .2s,color .2s;}
    .tab:hover{background:var(--bg);color:var(--text);}
    .tab.active{background:var(--text);color:var(--card);}
    .tab .dot{width:10px;height:10px;border-radius:999px;background:#94a3b8;}
    .content{background:var(--bg);padding:18px;}
    .sectionhead{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;padding:10px 4px 16px;}
    .sectiontitle{font-family:Outfit;font-size:1.85rem;font-weight:800;color:var(--text);}
    .sectionsub{color:var(--muted);font-size:.9rem;margin-top:8px;}
    .count{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:var(--card);color:var(--muted);font-weight:700;font-size:.9rem;}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(330px,1fr));gap:14px;}
    .card{background:var(--card);border-radius:16px;border:1px solid var(--border);padding:16px;transition:transform .15s;position:relative;}
    .card:hover{transform:translateY(-2px);}
    .card::before{content:"";position:absolute;inset:0 0 auto 0;height:4px;background:#cbd5e1;}
    .card[data-cat="engineering"]::before{background:var(--eng);}
    .card[data-cat="data"]::before{background:var(--data);}
    .card[data-cat="product"]::before{background:var(--prod);}
    .card[data-cat="governance"]::before{background:var(--gov);}
    .cardtop{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:10px;}
    .cardtitle{font-family:Outfit;font-weight:800;font-size:1.18rem;margin-bottom:6px;color:var(--text);}
    .tiny{color:var(--muted);font-size:.86rem;}
    .savebtn{border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:12px;padding:8px 10px;cursor:pointer;font-weight:800;display:inline-flex;align-items:center;gap:8px;}
    .savebtn:hover{background:var(--bg);}
    .savebtn.saved{border-color:rgba(34,197,94,.35);background:rgba(34,197,94,.08);color:#166534;}
    .badgerow{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0 12px;}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-size:.86rem;font-weight:800;border:1px solid var(--border);background:var(--card);color:var(--text);}
    .block{background:var(--bg);border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:10px;}
    .label{display:block;font-size:.72rem;letter-spacing:.6px;text-transform:uppercase;font-weight:900;color:var(--muted);margin-bottom:8px;}
    .tags{display:flex;flex-wrap:wrap;gap:6px;}
    .tag{display:inline-flex;align-items:center;padding:5px 8px;border-radius:10px;border:1px solid var(--border);background:var(--card);font-size:.86rem;font-weight:700;color:var(--text);cursor:pointer;}
    .tag:hover{background:var(--bg);}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:14px;}
    .costrow{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border);font-size:.93rem;}
    .costtotal{display:flex;justify-content:space-between;font-weight:900;font-size:1.1rem;margin-top:10px;padding-top:12px;border-top:2px solid var(--border);}
    .pathstep{padding:12px;background:var(--bg);border-radius:12px;margin-bottom:10px;border-left:4px solid var(--eng);}
    .pathstep strong{color:var(--text);}
    .pathstep p{color:var(--muted);font-size:.9rem;margin-top:6px;}
    .empty{padding:22px;text-align:center;color:var(--muted);border:1px dashed var(--border);border-radius:16px;background:var(--card);}
    .footer{padding:18px 20px;border-top:1px solid var(--border);background:var(--card);color:var(--muted);font-size:.9rem;text-align:center;line-height:1.35;}
    .roadmapwrap{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;}
    .phase{border-radius:16px;border:1px solid var(--border);background:var(--card);padding:14px;margin-bottom:12px;position:relative;}
    .phase::before{content:"";position:absolute;inset:0 0 auto 0;height:4px;}
    .phase[data-phase="1"]::before{background:#22c55e;}
    .phase[data-phase="2"]::before{background:#3b82f6;}
    .phase[data-phase="3"]::before{background:#7c3aed;}
    .phasetop{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:10px;}
    .phasetop h4{font-family:Outfit;font-weight:900;font-size:1.06rem;color:var(--text);}
    .phasetop .range{font-weight:900;color:var(--muted);font-size:.86rem;}
    .modalbackdrop{position:fixed;inset:0;background:rgba(15,23,42,.55);display:none;align-items:center;justify-content:center;z-index:999;padding:18px;}
    .modal{width:min(720px,100%);background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:0 20px 60px rgba(0,0,0,.25);}
    .modalhead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px;}
    .modalhead h3{font-family:Outfit;font-weight:900;font-size:1.1rem;color:var(--text);}
    .modalclose{border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:12px;padding:8px 10px;cursor:pointer;font-weight:800;}
    .modal p{color:var(--muted);font-size:.95rem;line-height:1.45;margin:10px 0;}
    .modal ul{margin-left:18px;color:var(--muted);font-size:.95rem;line-height:1.45;}
    .modal li{margin:6px 0;}
    @media(max-width:980px){.roadmapwrap{grid-template-columns:1fr;}}
    @media(max-width:720px){body{padding:12px;}.grid{grid-template-columns:1fr;}.dark-toggle{top:12px;right:12px;}}
  </style>
</head>

<body>
  <button class="dark-toggle" id="darkToggle">üåô Dark</button>
  <div class="container">
    <header class="header">
      <h1>AI Career Roadmap 2026</h1>
      <p>Browse roles, generate learning paths, calculate costs, export as PDF.</p>
      <div class="assumptions">
        <strong>U.S.-centric snapshot.</strong> Upper ranges reflect senior/high-cost markets. Many roles assume adjacent experience. Certs signal intent; hiring prioritizes applied scope.
      </div>
      <div class="pillrow">
        <span class="pill"><strong id="statRoles">0</strong> roles</span>
        <span class="pill"><strong id="statCerts">0</strong> certs</span>
        <span class="pill"><strong id="statSaved">0</strong> saved</span>
      </div>
    </header>

    <div class="topbar">
      <div class="controls">
        <label class="input"><input id="search" type="search" placeholder="Search roles, skills, certs‚Ä¶"/></label>
        <select id="typeFilter" class="select"><option value="all">All types</option><option value="established">Established</option><option value="emerging">Emerging</option></select>
        <select id="impactFilter" class="select"><option value="all">All impact</option><option value="highvolume">High volume</option><option value="highleverage">Low volume, high leverage</option></select>
        <select id="sortBy" class="select"><option value="name">Sort: Name</option><option value="salary">Sort: Salary</option></select>
      </div>
      <div class="right-actions">
        <button id="assumptionsBtn" class="button">Assumptions</button>
        <button id="exportPdfBtn" class="button">üìÑ Export PDF</button>
        <button id="shareBtn" class="button primary">Share</button>
        <button id="resetBtn" class="button danger">Reset</button>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab active" data-tab="engineering"><span class="dot"></span> Engineering</button>
      <button class="tab" data-tab="data"><span class="dot"></span> Data</button>
      <button class="tab" data-tab="product"><span class="dot"></span> Product</button>
      <button class="tab" data-tab="governance"><span class="dot"></span> Governance</button>
      <button class="tab" data-tab="emerging"><span class="dot"></span> Emerging</button>
      <button class="tab" data-tab="certifications"><span class="dot"></span> Certs</button>
      <button class="tab" data-tab="roadmap"><span class="dot"></span> My Roadmap</button>
    </nav>

    <main class="content">
      <section id="panel-engineering">
        <div class="sectionhead"><div><div class="sectiontitle">Engineering</div></div><div class="count"><span id="count-engineering">0</span></div></div>
        <div id="grid-engineering" class="grid"></div>
      </section>
      <section id="panel-data" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">Data & Analytics</div></div><div class="count"><span id="count-data">0</span></div></div>
        <div id="grid-data" class="grid"></div>
      </section>
      <section id="panel-product" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">Product & Business</div></div><div class="count"><span id="count-product">0</span></div></div>
        <div id="grid-product" class="grid"></div>
      </section>
      <section id="panel-governance" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">Governance & Risk</div></div><div class="count"><span id="count-governance">0</span></div></div>
        <div id="grid-governance" class="grid"></div>
      </section>
      <section id="panel-emerging" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">Emerging Roles</div><div class="sectionsub">Titles and scope still consolidating across companies.</div></div><div class="count"><span id="count-emerging">0</span></div></div>
        <div id="grid-emerging" class="grid"></div>
      </section>
      <section id="panel-certifications" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">Certifications</div></div><div class="count"><span id="count-certifications">0</span></div></div>
        <div id="certList"></div>
      </section>
      <section id="panel-roadmap" hidden>
        <div class="sectionhead"><div><div class="sectiontitle">My Roadmap</div></div><div class="count"><span id="count-roadmap">0</span></div></div>
        <div id="roadmapContent"></div>
      </section>
    </main>

    <footer class="footer">
      U.S.-centric snapshot (Dec 2025‚ÄìJan 2026). Upper ranges reflect senior/high-cost markets. Many roles assume adjacent experience. Certs help signal intent; hiring prioritizes applied scope and evidence.
    </footer>
  </div>

  <div class="modalbackdrop" id="assumptionsModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="assumptionsTitle">
      <div class="modalhead">
        <h3 id="assumptionsTitle">Assumptions</h3>
        <button class="modalclose" id="assumptionsClose">Close</button>
      </div>
      <p>
        This tool is a conservative reference designed to help you orient. It reflects market reality as of early 2026, with significant caveats.
      </p>
      <ul>
        <li><strong>U.S.-centric snapshot:</strong> Roles and salaries reflect major U.S. markets unless noted otherwise.</li>
        <li><strong>Upper salary ranges:</strong> Typically reflect senior scope or high-cost markets (SF, NYC, Boston), not entry-level offers.</li>
        <li><strong>Adjacent experience:</strong> Many "AI" roles assume prior context (product, domain, infrastructure, risk, etc.), despite low technical barriers.</li>
        <li><strong>Certifications:</strong> Help signal intent and baseline knowledge. Hiring decisions still prioritize applied scope, ownership, and evidence of work.</li>
        <li><strong>Emerging titles:</strong> Scope and naming vary widely across companies; roles often exist as responsibilities inside other titles.</li>
        <li><strong>Volume indicators:</strong> Reflect hiring trends, not absolute job counts; "high volume" means more openings, not easier hiring bars.</li>
      </ul>
      <p>
        If you see gaps or disagree with framing, that's useful feedback‚Äîthese roles are still consolidating.
      </p>
    </div>
  </div>

  <script>
    const ROLES = [
      {
        name:"Machine Learning Engineer",
        cat:"engineering",
        type:"established",
        salary:"$120K‚Äì$190K",
        salaryMin:120,
        salaryMax:190,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["Python","TensorFlow","PyTorch"],
        certs:["AWS ML Specialty"],
        notes:"Often requires software engineering + ML fundamentals; not typically entry-level."
      },
      {
        name:"MLOps Engineer",
        cat:"engineering",
        type:"established",
        salary:"$130K‚Äì$210K",
        salaryMin:130,
        salaryMax:210,
        demand:"Very High",
        volume:"low",
        leverage:"high",
        skills:["Kubernetes","CI/CD","Docker"],
        certs:["AWS DevOps Engineer"],
        notes:"Lower hiring volume, high leverage. Usually assumes infrastructure or DevOps adjacency."
      },
      {
        name:"AI Engineer",
        cat:"engineering",
        type:"emerging",
        salary:"$110K‚Äì$200K",
        salaryMin:110,
        salaryMax:200,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["APIs","Deployment","RAG"],
        certs:["AWS Certified AI Practitioner"],
        notes:"Often embedded in product/engineering teams; expectations and scope vary widely by company."
      },
      {
        name:"RAG Specialist",
        cat:"engineering",
        type:"emerging",
        salary:"$105K‚Äì$175K",
        salaryMin:105,
        salaryMax:175,
        demand:"Very High",
        volume:"low",
        leverage:"high",
        skills:["Vector DBs","Embeddings","Retrieval"],
        certs:["DeepLearning.AI"],
        notes:"Often exists as a capability inside other roles; titles vary significantly by company."
      },
      {
        name:"Prompt Engineer",
        cat:"engineering",
        type:"emerging",
        salary:"$80K‚Äì$160K",
        salaryMin:80,
        salaryMax:160,
        demand:"Extremely High",
        volume:"high",
        leverage:"medium",
        skills:["LLM Knowledge","Prompt Design"],
        certs:["Google AI Essentials"],
        notes:"Low technical barrier‚Äîbut hiring often expects adjacent domain or product context. Not the lowest hiring bar."
      },
      {
        name:"Data Scientist",
        cat:"data",
        type:"established",
        salary:"$110K‚Äì$170K",
        salaryMin:110,
        salaryMax:170,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["Python","Statistics","SQL"],
        certs:["DeepLearning.AI ML"],
        notes:"Often requires prior analytics or statistics background; scope varies by team."
      },
      {
        name:"Data Engineer",
        cat:"data",
        type:"established",
        salary:"$115K‚Äì$185K",
        salaryMin:115,
        salaryMax:185,
        demand:"Very High",
        volume:"high",
        leverage:"high",
        skills:["ETL","SQL","Spark"],
        certs:["AWS Data Engineer"],
        notes:"High volume in most orgs; role titles often reflect company naming (platform, data platform, etc.)."
      },
      {
        name:"AI Product Manager",
        cat:"product",
        type:"emerging",
        salary:"$130K‚Äì$190K",
        salaryMin:130,
        salaryMax:190,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["Product Strategy","Metrics"],
        certs:["AIGP"],
        notes:"Often requires product management background; AI adds model risk and deployment constraints."
      },
      {
        name:"AI Governance Specialist",
        cat:"governance",
        type:"emerging",
        salary:"$130K‚Äì$180K",
        salaryMin:130,
        salaryMax:180,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["Risk Assessment","Controls"],
        certs:["AIGP","CRISC"],
        notes:"Certs help signal intent; hiring often expects audit exposure, policy authorship, or control ownership."
      },
      {
        name:"AI Compliance Officer",
        cat:"governance",
        type:"emerging",
        salary:"$130K‚Äì$200K",
        salaryMin:130,
        salaryMax:200,
        demand:"Very High",
        volume:"low",
        leverage:"high",
        skills:["Compliance","Audit","Policy"],
        certs:["AIGP","CIPP/US"],
        notes:"Lower hiring volume; often sits in Legal or Compliance with strong documentation and audit demands."
      },
      {
        name:"AI Risk Manager",
        cat:"governance",
        type:"emerging",
        salary:"$140K‚Äì$210K",
        salaryMin:140,
        salaryMax:210,
        demand:"Very High",
        volume:"medium",
        leverage:"high",
        skills:["NIST AI RMF","Risk Assessment"],
        certs:["CRISC","AIGP"],
        notes:"Usually expects enterprise risk ownership, cross-functional stakeholder management, and policy impact."
      },
    ];

    const CERTS = [
      {name:"AIGP",issuer:"IAPP",cost:"$500‚Äì$600",prep:"60‚Äì80 hrs",url:"https://www.iapp.org/certify/aigp/",desc:"AI governance & compliance."},
      {name:"AWS Certified AI Practitioner",issuer:"AWS",cost:"$100",prep:"40‚Äì60 hrs",url:"https://aws.amazon.com/certification/certified-ai-practitioner/",desc:"Entry AWS AI credential."},
      {name:"AWS ML Specialty",issuer:"AWS",cost:"$300",prep:"100‚Äì150 hrs",url:"https://aws.amazon.com/certification/certified-machine-learning-specialty/",desc:"Production ML on AWS."},
      {name:"CRISC",issuer:"ISACA",cost:"$575‚Äì$760",prep:"100‚Äì150 hrs",url:"https://www.isaca.org/credentialing/crisc",desc:"Risk management for governance."},
      {name:"CIPP/US",issuer:"IAPP",cost:"$400‚Äì$550",prep:"60‚Äì80 hrs",url:"https://www.iapp.org/certify/cipp-us/",desc:"US privacy law."},
      {name:"DeepLearning.AI ML",issuer:"DeepLearning.AI",cost:"$39‚Äì$49/mo",prep:"120‚Äì200 hrs",url:"https://www.coursera.org/specializations/machine-learning-introduction",desc:"Practical ML fundamentals."},
      {name:"Google Cloud ML Engineer",issuer:"Google",cost:"$200",prep:"100‚Äì120 hrs",url:"https://cloud.google.com/certification/machine-learning-engineer",desc:"Production ML on GCP."},
    ];

    const STORAGE_KEY = "ai_roadmap_v2";
    let saved = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]"));

    let state = {
      tab: "engineering",
      query: "",
      typeFilter: "all",
      impactFilter: "all",
      sortBy: "name",
      darkMode: localStorage.getItem("dark_mode") === "true"
    };

    const $ = (id) => document.getElementById(id);
    const norm = (s) => (s || "").toLowerCase().trim();

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify([...saved]));
      localStorage.setItem("dark_mode", state.darkMode);
      localStorage.setItem("ai_roadmap_filters", JSON.stringify({
        typeFilter: state.typeFilter,
        impactFilter: state.impactFilter,
        sortBy: state.sortBy
      }));
      updateStats();
    }

    function updateStats() {
      $("statRoles").textContent = ROLES.length;
      $("statCerts").textContent = CERTS.length;
      $("statSaved").textContent = saved.size;
      $("count-roadmap").textContent = saved.size;
    }

    function volumeLabel(v) {
      if (v === "high") return "High volume";
      if (v === "medium") return "Medium volume";
      return "Low volume";
    }

    function costMidpoint(costStr) {
      const nums = (costStr.match(/\d+/g) || []).map(n => parseInt(n, 10));
      if (!nums.length) return 0;
      if (nums.length === 1) return nums[0];
      return Math.round((nums[0] + nums[1]) / 2);
    }

    function leverageLabel(l) {
      if (l === "high") return "High leverage";
      if (l === "medium") return "Medium leverage";
      return "Low leverage";
    }

    function catColorVar(cat) {
      if (cat === "engineering") return "var(--eng)";
      if (cat === "data") return "var(--data)";
      if (cat === "product") return "var(--prod)";
      return "var(--gov)";
    }

    function renderCard(role) {
      const isSaved = saved.has(role.name);
      const skills = (role.skills || []).map(s => `<span class="tag" data-q="${s}">${s}</span>`).join("");
      const certs = (role.certs || []).map(c => `<span class="tag" data-cert="${c}">${c}</span>`).join("");
      const notesBlock = role.notes
        ? `<div class="block" style="margin-bottom:0;">
             <span class="label">Context</span>
             <div style="color:var(--muted);font-size:.93rem;">${role.notes}</div>
           </div>`
        : "";

      return `
      <article class="card" data-cat="${role.cat}">
        <div class="cardtop">
          <div class="titlewrap">
            <div class="cardtitle">${role.name}</div>
            <div class="tiny"><strong>${role.type}</strong></div>
          </div>
          <button class="savebtn ${isSaved ? "saved" : ""}" data-save="${role.name}">
            ${isSaved ? "Saved" : "Save"} ‚òÖ
          </button>
        </div>

        <div class="badgerow">
          <span class="badge">üí∞ ${role.salary}</span>
          <span class="badge">üî• ${role.demand}</span>
          <span class="badge">üìå ${volumeLabel(role.volume || "medium")}</span>
          <span class="badge">‚öôÔ∏è ${leverageLabel(role.leverage || "medium")}</span>
        </div>

        <div class="block">
          <span class="label">Skills</span>
          <div class="tags">${skills}</div>
        </div>

        <div class="block">
          <span class="label">Certs</span>
          <div class="tags">${certs || "‚Äî"}</div>
        </div>

        ${notesBlock}
      </article>`;
    }

    function renderCert(cert) {
      return `<div class="panel"><div class="cardtitle">${cert.name}</div><div class="tiny"><strong>${cert.issuer}</strong></div><div class="block"><span class="label">Cost & Time</span><div style="font-size:.93rem;color:var(--muted);">üí∞ ${cert.cost} | ‚è± ${cert.prep}</div></div><div style="color:var(--muted);font-size:.93rem;margin-bottom:12px;">${cert.desc}</div><a href="${cert.url}" target="_blank" class="button primary" style="text-decoration:none;">Learn More ‚Üó</a></div>`;
    }

    function applyFilters(items, cat) {
      const q = norm(state.query);
      let out = items.filter(r => {
        const hay = [r.name, r.cat, r.type, r.salary, ...(r.skills||[]), ...(r.certs||[]), r.notes||"", r.volume||"", r.leverage||""].join(" ");
        return norm(hay).includes(q);
      });
      if (cat) out = out.filter(r => r.cat === cat);
      if (state.typeFilter !== "all") out = out.filter(r => r.type === state.typeFilter);

      if (state.impactFilter === "highvolume") {
        out = out.filter(r => (r.volume || "medium") === "high");
      } else if (state.impactFilter === "highleverage") {
        out = out.filter(r => (r.volume || "medium") === "low" && (r.leverage || "medium") === "high");
      }

      if (state.sortBy === "salary") {
        out.sort((a, b) => (b.salaryMax ?? 0) - (a.salaryMax ?? 0));
      } else {
        out.sort((a, b) => a.name.localeCompare(b.name));
      }
      return out;
    }

    function renderTab(tab) {
      if (["engineering", "data", "product", "governance"].includes(tab)) {
        const filtered = applyFilters(ROLES, tab);
        $("count-" + tab).textContent = filtered.length;
        $("grid-" + tab).innerHTML = filtered.map(renderCard).join("");
        return;
      }
      if (tab === "emerging") {
        const filtered = applyFilters(ROLES.filter(r => r.type === "emerging"));
        $("count-emerging").textContent = filtered.length;
        $("grid-emerging").innerHTML = filtered.map(renderCard).join("");
        return;
      }
      if (tab === "certifications") {
        const q = norm(state.query);
        const filtered = CERTS.filter(c => norm([c.name, c.issuer, c.desc].join(" ")).includes(q));
        $("count-certifications").textContent = filtered.length;
        const preface = `<div class="panel"><div class="cardtitle">How to Read Certs</div><div style="color:var(--muted);font-size:.93rem;line-height:1.35;">Certifications help signal intent and baseline knowledge. Hiring decisions still prioritize applied scope, ownership, and evidence of real work.</div></div>`;
        $("certList").innerHTML = preface + filtered.map(renderCert).join("");
        return;
      }
      if (tab === "roadmap") {
        const chosen = ROLES.filter(r => saved.has(r.name));
        if (!chosen.length) {
          $("roadmapContent").innerHTML = '<div class="empty">Save 1‚Äì3 roles to generate a learning path, cost estimate, and skill map.</div>';
          return;
        }
        const allSkills = [...new Set(chosen.flatMap(r => r.skills||[]))];
        const certNames = [...new Set(chosen.flatMap(r => r.certs||[]))];
        const certCost = certNames.map(c => CERTS.find(x => x.name === c)).filter(Boolean);
        const totalCost = certCost.reduce((s, c) => s + costMidpoint(c.cost), 0);
        const html = `
          <div class="roadmapwrap">
            <div class="panel">
              <h3 style="font-family:Outfit;font-weight:900;margin-bottom:12px;color:var(--text);">Saved Roles</h3>
              ${chosen.map(r => `<div class="pathstep" style="border-left-color:${catColorVar(r.cat)};"><strong>${r.name}</strong><p>${r.salary} ‚Ä¢ ${r.demand} ‚Ä¢ ${volumeLabel(r.volume)}</p></div>`).join("")}
            </div>
            <div style="display:grid;gap:14px;">
              <div class="panel">
                <h3 style="font-family:Outfit;font-weight:900;margin-bottom:12px;color:var(--text);">Cost Estimate</h3>
                <div class="costrow"><span>Certs & Courses</span><span style="font-weight:700;">$${totalCost}</span></div>
                <div class="costrow"><span>Estimated Hours</span><span style="font-weight:700;">${certCost.length * 100} hrs</span></div>
                <div class="costtotal"><span>Total Investment</span><span>$${totalCost} + 3‚Äì6 months</span></div>
              </div>
              <div class="panel">
                <h3 style="font-family:Outfit;font-weight:900;margin-bottom:12px;color:var(--text);">Key Skills to Learn</h3>
                <div style="display:flex;flex-wrap:wrap;gap:6px;">${allSkills.map(s => `<span class="tag">${s}</span>`).join("")}</div>
              </div>
            </div>
          </div>
        `;
        $("roadmapContent").innerHTML = html;
      }
    }

    function setTab(tab) {
      state.tab = tab;

      // update tab styles
      document.querySelectorAll(".tab").forEach(t => {
        t.classList.toggle("active", t.dataset.tab === tab);
      });

      // hide all panels, then show the active
      document.querySelectorAll("[id^='panel-']").forEach(p => (p.hidden = true));
      const panel = $("panel-" + tab);
      if (panel) panel.hidden = false;

      renderTab(tab);
    }

    // Events
    document.querySelectorAll(".tab").forEach(t => t.addEventListener("click", () => setTab(t.dataset.tab)));
    $("search").addEventListener("input", (e) => { state.query = e.target.value; renderTab(state.tab); });
    $("typeFilter").addEventListener("change", (e) => { state.typeFilter = e.target.value; renderTab(state.tab); });
    $("impactFilter").addEventListener("change", (e) => { state.impactFilter = e.target.value; renderTab(state.tab); });
    $("sortBy").addEventListener("change", (e) => { state.sortBy = e.target.value; renderTab(state.tab); });

    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-save]");
      if (btn) {
        const name = btn.dataset.save;
        if (saved.has(name)) saved.delete(name);
        else saved.add(name);
        saveState();
        renderTab(state.tab);
      }
      const certTag = e.target.closest(".tag[data-cert]");
      if (certTag) {
        state.query = certTag.dataset.cert;
        $("search").value = state.query;
        setTab("certifications");
        return;
      }
      const tag = e.target.closest(".tag");
      if (tag) {
        state.query = tag.dataset.q || tag.textContent;
        $("search").value = state.query;
        renderTab(state.tab);
      }
    });

    const modal = $("assumptionsModal");
    function openModal() {
      modal.style.display = "flex";
      modal.setAttribute("aria-hidden", "false");
    }
    function closeModal() {
      modal.style.display = "none";
      modal.setAttribute("aria-hidden", "true");
    }
    $("assumptionsBtn").addEventListener("click", openModal);
    $("assumptionsClose").addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.style.display === "flex") closeModal();
    });

    $("darkToggle").addEventListener("click", () => {
      state.darkMode = !state.darkMode;
      document.body.classList.toggle("dark", state.darkMode);
      saveState();
    });

    $("shareBtn").addEventListener("click", async () => {
      const url = new URL(location.href);
      url.searchParams.set("saved", JSON.stringify([...saved]));
      url.searchParams.set("impact", state.impactFilter);
      try {
        await navigator.clipboard.writeText(url.toString());
        $("shareBtn").textContent = "Copied ‚úì";
        setTimeout(() => $("shareBtn").textContent = "Share", 1200);
      } catch {
        alert("Copy failed. URL: " + url.toString());
      }
    });

    $("resetBtn").addEventListener("click", () => {
      saved.clear();
      saveState();
      renderTab(state.tab);
    });

    $("exportPdfBtn").addEventListener("click", () => {
      const chosen = ROLES.filter(r => saved.has(r.name));
      if (!chosen.length) {
        alert("Save roles first to export.");
        return;
      }
      const allSkills = [...new Set(chosen.flatMap(r => r.skills||[]))];
      const certNames = [...new Set(chosen.flatMap(r => r.certs||[]))];
      const certCost = certNames.map(c => CERTS.find(x => x.name === c)).filter(Boolean);
      const totalCost = certCost.reduce((s, c) => s + costMidpoint(c.cost), 0);
      
      const html = `
        <div style="font-family:Arial;padding:20px;">
          <h1>My AI Career Roadmap 2026</h1>
          <p style="color:#666;">Generated on ${new Date().toLocaleDateString()}</p>
          
          <h2>Saved Roles</h2>
          <ul>
            ${chosen.map(r => `<li><strong>${r.name}</strong> - ${r.salary} (${r.demand} demand)</li>`).join("")}
          </ul>
          
          <h2>Cost Estimate</h2>
          <p><strong>Total Certification Cost:</strong> $${totalCost}</p>
          <p><strong>Estimated Time:</strong> 3‚Äì6 months</p>
          <p><strong>Total Hours:</strong> ${certCost.length * 100}+ hours</p>
          
          <h2>Key Skills to Learn</h2>
          <p>${allSkills.join(" ‚Ä¢ ")}</p>
          
          <h2>Recommended Certifications</h2>
          <ul>
            ${certNames.map(c => {
              const cert = CERTS.find(x => x.name === c);
              return `<li><strong>${c}</strong> - ${cert.cost} (${cert.prep})</li>`;
            }).join("")}
          </ul>

          <h2>Methodology</h2>
          <p>This roadmap assumes U.S.-centric market conditions (Dec 2025‚ÄìJan 2026). Upper salary ranges reflect senior roles in high-cost markets. Many roles expect adjacent experience. Certifications signal intent; hiring prioritizes applied scope.</p>
          
          <p style="margin-top:30px;color:#999;font-size:12px;">Visit: https://thankcheeses.github.io/ai-careers-1026/</p>
        </div>
      `;
      
      const element = document.createElement("div");
      element.innerHTML = html;
      const opt = { margin: 10, filename: "ai-roadmap.pdf", image: { type: "jpeg", quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { orientation: "portrait" } };
      html2pdf().set(opt).from(element).save();
    });

    // Import from URL
    const url = new URL(location.href);
    const savedParam = url.searchParams.get("saved");
    if (savedParam) {
      try {
        const decoded = JSON.parse(savedParam);
        if (Array.isArray(decoded)) decoded.forEach(x => saved.add(x));
        saveState();
      } catch (e) { }
      url.searchParams.delete("saved");
      history.replaceState(null, "", url.toString());
    }

    const impactParam = url.searchParams.get("impact");
    if (impactParam && ["all", "highvolume", "highleverage"].includes(impactParam)) {
      state.impactFilter = impactParam;
      const sel = $("impactFilter");
      if (sel) sel.value = impactParam;
    }

    // Apply dark mode on load
    if (state.darkMode) document.body.classList.add("dark");

    // Restore filters from localStorage
    try {
      const f = JSON.parse(localStorage.getItem("ai_roadmap_filters") || "{}");
      if (f.typeFilter) state.typeFilter = f.typeFilter;
      if (f.impactFilter) state.impactFilter = f.impactFilter;
      if (f.sortBy) state.sortBy = f.sortBy;

      $("typeFilter").value = state.typeFilter;
      $("impactFilter").value = state.impactFilter;
      $("sortBy").value = state.sortBy;
    } catch (e) { }

    // Init
    updateStats();
    setTab("engineering");
  </script>
</body>
</html>
